<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html">

	
	<body>
		<h:panelGroup rendered="#{orokorraAtazakMB.kodea!=0}">
			<h:outputText value="#{orokorraAtazakMB.mezua}" />
		</h:panelGroup>
		<h2>Erabiltzailearen Profila</h2>
		<h:panelGroup rendered="#{orokorraAtazakMB.rola==1}">
			<h:dataTable value="#{profilaViewMB.irakBatenDatuakLortuDB()}" var="i">
				<h:column>
					USERNAME <br/>
					PASAHITZA <br/>
					IZEN-ABIZENAK <br/>
					EMAIL <br/>
					ENPRESAREN IZENA <br/>
					LAN ESPARRUA <br/>
					SAILA <br/>
					KOKALEKUA <br/>
					LABURPENA <br/>
				</h:column>
				<h:column>
					#{i.username} <br/>
					#{i.pasahitza} <br/>
					#{i.izena} <br/>
					#{i.email} <br/>
					#{i.enpresaIzena} <br/>
					#{i.lanEsparrua} <br/>
					#{i.saila} <br/>
					#{i.kokalekua} <br/>
					#{i.laburpena} <br/>
				</h:column>
			</h:dataTable>
			<h:form>
				<h:commandButton action="/EDUKIAK/ESKAINTZAILEA/profilaEskaintzailea" actionListener="#{eskaintzaileaFormMB.balioakHasieratu(profilaViewMB)}" id="profilaEditatu" value="EDITATU" />
				<h:commandButton action="/index" actionListener="#{eskaintzaileAtazakMB.eskaintzaileaEzabatuDB()}" id="profilaEzabatu" value="KONTUA EZABATU" />
			</h:form>
			<h2>ZURE ESKAINTZAK:</h2>
			<h:dataTable value="#{profilaViewMB.irakBatenEskaintzakLortu()}" var="e">
				<h:column>
					<h:commandLink action="/EDUKIAK/ESKAINTZAILEA/eskaintzaIrakaslea" actionListener="#{orokorraAtazakMB.eskaintzaKlikEgin(e.idEskaintza)}" type="submit" value="#{e.izenburua}" /> <br />
					<h:panelGroup rendered="#{e.eskaintzaEgoera==0}">
						INAKTIBO <br />
					</h:panelGroup>
					<h:panelGroup rendered="#{e.eskaintzaEgoera==1}">
						AKTIBO <br />
					</h:panelGroup>
					<h:form>
						<h:commandButton actionListener="#{eskaintzaileAtazakMB.eskaintzaEgoeraAldatu(e,profilaViewMB)}" id="eskaintzaEgoeraAldatu" value="EGOERA ALDATU" />
						&emsp;&emsp;
						<h:commandButton actionListener="#{eskaintzaileAtazakMB.eskaintzaEzabatu(e,profilaViewMB)}" id="eskaintzaEzabatu" value="EZABATU" />
					</h:form>
					<hr />
				</h:column>
			</h:dataTable>
		</h:panelGroup>
		<h:panelGroup rendered="#{orokorraAtazakMB.rola==2}">
			<h:dataTable value="#{profilaViewMB.ikasBatenDatuakLortuDB()}" var="i">
				<h:column>
					USERNAME <br/>
					PASAHITZA <br/>
					IZEN-ABIZENAK <br/>
					EMAIL <br/>
					TITULOAK <br/>
					BIZILEKUA <br/>
					HIZKUNTZAK <br/>
					BESTELAKO GAITASUNAK <br/>
				</h:column>
				<h:column>
					#{i.username} <br/>
					#{i.pasahitza} <br/>
					#{i.izenAbizenak} <br/>
					#{i.email} <br/>
					#{i.tituluak} <br/>
					#{i.bizilekua} <br/>
					#{i.hizkuntzak} <br/>
					#{i.gaitasunak} <br/>
				</h:column>
			</h:dataTable>
			<h:form>
				<h:commandButton action="/EDUKIAK/ESKATZAILEA/profilaEskatzailea" actionListener="#{eskatzaileaFormMB.balioakHasieratu(profilaViewMB)}" id="profilaEditatu" value="EDITATU" />
				<h:commandButton action="/index" actionListener="#{eskatzaileAtazakMB.eskatzaileaEzabatuDB()}" id="profilaEzabatu" value="KONTUA EZABATU" />
			</h:form>
			<h2>ZURE ESKARIAK:</h2>
			<h:dataTable value="#{profilaViewMB.ikasBatenEskariakLortu()}" var="e">
				<h:column>
				<h:form>
					<h:commandLink action="eskaintza" actionListener="#{orokorraAtazakMB.eskaintzaKlikEgin(e.eskaintzaE.idEskaintza)}" type="submit" value="#{e.eskaintzaE.izenburua}" /> <br />
				</h:form>
				#{e.eskaintzaE.graduak} <br />
				<h:panelGroup rendered="#{e.eskariaEgoera==1}">
				IKUSTEKE
				</h:panelGroup>
				<h:panelGroup rendered="#{e.eskariaEgoera==2}">
				ONARTUA ! <br />
				ARDURADUNAREKIN JARRI ZAITEZ KONTAKTUAN:<br />
				#{e.eskaintzaE.eskaintzaileaE.email}
				</h:panelGroup>
				<h:panelGroup rendered="#{e.eskariaEgoera==3}">
				UKATUTA
				</h:panelGroup>
				<hr />
				</h:column>
			</h:dataTable>
		</h:panelGroup>
		
	</body>
</html>